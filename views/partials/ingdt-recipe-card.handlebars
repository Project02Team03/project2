<!-- This is an ingredient item which appears on the RECIPE modal -->
<!-- if the Ingredient has a NOTE then it renders this version -->

{{#if note}}
    <div class="card border-secondary mx-3 mb-1">
        <div class="row g-0">
            <div class="col-xl-9 col-lg-7 col-md-6 col-sm-12">
                <div class="d-flex justify-content-center">
                    <div class="d-flex img-container">
                        <!-- Static ingredient image is used for background -->
                        <div class="bg-image"
                            style="background-image: url('{{ingredient_img}}');">
                        </div>
                    </div>
                    <div class="d-flex flex-row justify-content-start align-items-center w-100">
                        <div class="d-flex flex-row align-items-center">
                            <div class="card-body">
                                <!-- Ingredient amount, the units, and the name are listed -->
                                <h6 class="card-title m-0 p-3 p-sm-1 text-dark">{{amount}} {{units}}
                                {{ingredient_name}}</h6>
                                <div class="d-flex flex-row">
                                    <!-- Ingredient notes are only available for authorized users -->
                                   
                                    <!-- Ingredient note is rendered -->
                                    <p class="card-text m-0 p-3 p-sm-1 pt-1 ">{{note}}</p>
                                    
                                    <button class="btn btn-sm btn-outline-dark justify-content-start" type="submit"><i
                                            class="fa-solid fa-comment"></i></button>
                                   
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            <!-- Marking ingredient state is only available for authorized users -->
            
            <div
                class="col-xl-3 col-lg-5 col-md-6 col-sm-12 d-flex justify-content-md-end justify-content-center align-items-center">
                <div class="d-flex justify-content-between flex-wrap">
                    <div class="d-flex btn-container">
                        <!-- This button marks the ingredient as in_stock: true AND leaves default shopping_list: false -->
                        <button class="btn btn-success mx-2 my-1 ing-btn" id="inStockBtn" type="submit" data-button="{{id}}">
                            <i class="fa-solid fa-circle-check pe-3"></i>Have It</button>
                    </div>
                    <div class="d-flex btn-container">
                        <!-- This button marks the ingredient as shopping_list: true -->
                        <button class="btn btn-primary mx-2 my-1 ing-btn" id="shoppingListBtn" type="submit" data-button="{{id}}">
                            <i class="fa-solid fa-cart-shopping pe-3"></i>Need It</button>
                    </div>
                </div>
            </div>
           
        </div>
    </div>
<!-- Otherwise the Ingredient is rendered without a note -->
{{else}}
    <div class="card border-secondary mx-3 mb-1">
        <div class="row g-0">
            <div class="col-xl-9 col-lg-7 col-md-6 col-sm-12">
                <div class="d-flex justify-content-center">
                    <div class="d-flex img-container">
                        <!-- Static ingredient image is used for background -->
                        <div class="bg-image"
                            style="background-image: url('{{this.ingredient_img}}');">
                        </div>
                    </div>
                    <div class="d-flex flex-row justify-content-start align-items-center w-100">
                        <div class="d-flex flex-row align-items-center">
                            <div class="card-body">
                                <!-- Ingredient amount, the units, and the name are listed -->
                                <h6 class="card-title m-0 p-3 p-sm-1 text-dark">{{this.amount}} {{this.units}}
                                {{this.ingredient_name}}</h6>
                            </div>
                            <!-- Ingredient notes are only available for authorized users -->
                            
                            <!-- This button opens the note field -->
                            <button class="btn btn-sm btn-dark justify-content-start" type="submit"><i
                                    class="fa-solid fa-comment"></i></button>
                            
                        </div>
                    </div>
                </div>
            </div>
            <!-- Marking ingredient state is only available for authorized users -->
           
            <div
                class="col-xl-3 col-lg-5 col-md-6 col-sm-12 d-flex justify-content-md-end justify-content-center align-items-center">
                <div class="d-flex btn-container">
                        <!-- This button marks the ingredient as in_stock: true AND leaves default shopping_list: false -->
                        <button class="btn btn-success mx-2 my-1 ing-btn" id="inStockBtn" type="submit" data-button="{{recipe.id}}">
                            <i class="fa-solid fa-circle-check pe-3"></i>Have It</button>
                    </div>
                    <div class="d-flex btn-container">
                        <!-- This button marks the ingredient as shopping_list: true -->
                        <button class="btn btn-primary mx-2 my-1 ing-btn" id="shoppingListBtn" type="submit" data-button="{{recipe.id}}">
                            <i class="fa-solid fa-cart-shopping pe-3"></i>Need It</button>
                    </div>
            </div>
          
        </div>
    </div>
{{/if}}
